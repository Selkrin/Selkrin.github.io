/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #2c3e50;
    --secondary-color: #3498db;
    --accent-color: #27ae60;
    --text-color: #333;
    --bg-color: #ecf0f1;
    --card-bg: #ffffff;
    --shadow-sm: 0 2px 5px rgba(0,0,0,0.1);
    --shadow-md: 0 5px 15px rgba(0,0,0,0.2);
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: var(--text-color);
    background-color: var(--bg-color);
    margin: 0;
    padding: 0;
}

a {
    text-decoration: none;
    color: var(--secondary-color);
}

/* Navigation Bar */
.navbar {
    background-color: white;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.nav-container {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    gap: 20px;
}

.logo img {
    height: 50px;
    width: auto;
}

.nav-list {
    display: flex;
    list-style: none;
    gap: 30px;
}

.nav-list li a {
    color: var(--text-color);
    padding: 8px 16px;
    border-radius: 4px;
    transition: background-color 0.3s;
}

.nav-list li a:hover {
    background-color: #f8f9fa;
}

.dropdown-menu {
    display: none;
    position: absolute;
    background-color: white;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    min-width: 200px;
    margin-top: 5px;
    border-radius: 4px;
}

.dropdown:hover .dropdown-menu {
    display: block;
}

.dropdown-menu li a {
    display: block;
    padding: 12px 20px;
    color: var(--text-color);
    transition: all 0.3s;
}

.dropdown-menu li a:hover {
    background-color: #f8f9fa;
}

.menu-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background-color: #f8f9fa;
    border: 1px solid #ddd;
    borderRadius: 50%;
    cursor: pointer;
    transition: all 0.3s;
}

.menu-toggle:hover {
    background-color: #f0f2f5;
}

.hamburger {
    width: 20px;
    height: 2px;
    background-color: var(--text-color);
    display: flex;
    align-items: center;
}

.hamburger::before,
.hamburger::after {
    content: '';
    width: 20px;
    height: 2px;
    background-color: var(--text-color);
}

.hamburger::before {
    transform: rotate(35deg) translate(-4px, -8px);
}

.hamburger::after {
    transform: rotate(-35deg) translate(-4px, 8px);
}

/* Hero Section */
.hero {
    background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
    color: white;
    padding: 100px 20px;
}

.hero-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
}

.hero h1 {
    font-size: 3rem;
    margin-bottom: 20px;
    text-shadow: 2px 2px 4px #000000;
}

.hero p {
    font-size: 1.2rem;
    margin-bottom: 30px;
    opacity: 0.9;
}

.btn-primary {
    display: inline-block;
    padding: 15px 40px;
    background-color: white;
    color: var(--primary-color);
    border-radius: 5px;
    font-size: 1.1rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 8px rgba(0,0,0,0.15);
}

/* Sections Grid */
.building-sections {
    padding: 50px 20px;
    background-color: #ffffff;
}

.building-sections h2 {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 40px;
    color: var(--primary-color);
}

.sections-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
}

.section-card {
    background-color: var(--card-bg);
    padding: 30px;
    border-radius: 8px;
    box-shadow: var(--shadow-sm);
    transition: all 0.3s;
    position: relative;
}

.section-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background-color: var(--secondary-color);
    opacity: 0;
    transition: opacity 0.3s;
}

.section-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-md);
}

.section-card:hover::before {
    opacity: 1;
}

.section-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: var(--primary-color);
}

.section-card p {
    font-size: 0.95rem;
    color: #666;
    margin-bottom: 20px;
}

.section-card a {
    display: inline-block;
    padding: 10px 30px;
    background-color: var(--secondary-color);
    color: white;
    border-radius: 5px;
    transition: background-color 0.3s;
}

.section-card a:hover {
    background-color: var(--accent-color);
}

/* Interactive Features */
.interactive-floorplan {
    padding: 60px 20px;
    background-color: #e0f2f1;
}

.interactive-floorplan h2 {
    text-align: center;
    font-size: 2.2rem;
    margin-bottom: 40px;
    color: var(--primary-color);
}

.floorplan-container {
    max-width: 1000px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 30px;
    align-items: center;
}

.floor-plan-img {
    width: 100%;
    max-width: 800px;
    height: auto;
    border-radius: 8px;
    box-shadow: var(--shadow-md);
}

.hotspot-overlay {
    position: relative;
    width: 100%;
    max-width: 800px;
    height: 400px;
    cursor: crosshair;
    overflow: hidden;
    background-color: #90caf9;
    border-radius: 8px;
}

.hotspot {
    position: absolute;
    width: 30px;
    height: 30px;
    background-color: rgba(52, 152, 246, 0.9);
    border-radius: 50%;
    border: 2px solid white;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.3s, opacity 0.3s;
}

.hotspot::before {
    content: '';
    position: absolute;
    top: 35px;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(52, 152, 246, 0.9);
    padding: 0 15px;
    white-space: nowrap;
}

.hotspot:hover {
    transform: scale(1.2) rotate(45deg);
}

.hotspot.active {
    background-color: rgba(38, 147, 116, 0.9)!important;
}

/* Content Sections */
.content-section {
    padding: 60px 20px;
    background-color: #ffffff;
}

.content-section h2 {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 40px;
    color: var(--primary-color);
}

.articles-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
}

.article-card {
    background-color: var(--card-bg);
    padding: 25px;
    border-radius: 8px;
    box-shadow: var(--shadow-sm);
    transition: all 0.3s;
}

.article-card h3 {
    font-size: 1.3rem;
    margin-bottom: 10px;
    color: var(--primary-color);
}

.article-card p {
    font-size: 0.95rem;
    color: #666;
    margin-bottom: 15px;
}

.article-card a {
    display: inline-block;
    padding: 8px 20px;
    background-color: var(--secondary-color);
    color: white;
    border-radius: 5px;
    font-size: 0.95rem;
}

/* Filters & Search */
.filters-section {
    padding: 40px 20px;
    background-color: #f8fafc;
}

.search-box {
    max-width: 600px;
    margin: 0 auto 30px auto;
    display: flex;
}

.search-input {
    flex: 1;
    padding: 15px;
    font-size: 1.2rem;
    border: 2px solid #e2e8f0;
    border-radius: 8px 0 0 8px;
}

.search-btn {
    padding: 15px 30px;
    background-color: var(--secondary-color);
    color: white;
    border: none;
    border-radius: 0 8px 8px 0;
    cursor: pointer;
    font-size: 1.2rem;
}

.search-btn:hover {
    background-color: var(--accent-color);
}

.filter-tabs {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-bottom: 20px;
}

.filter-tab {
    padding: 10px 25px;
    background-color: #f1f5f9;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s;
}

.filter-tab.active,
.filter-tab:hover {
    background-color: var(--secondary-color);
    color: white;
}

/* Featured Topics */
.featured-topics {
    padding: 60px 20px;
    background-color: #fafcff;
}

.topic-card {
    background-color: var(--card-bg);
    padding: 30px;
    border-radius: 8px;
    box-shadow: var(--shadow-sm);
    text-align: center;
    transition: all 0.3s;
}

.topic-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-md);
}

.topic-icon {
    width: 60px;
    height: 60px;
    margin-bottom: 20px;
}

/* Resources Section */
.resources-section {
    padding: 50px 20px;
    background-color: #f0f2f5;
}

.resource-card {
    background-color: var(--card-bg);
    padding: 25px;
    border-radius: 8px;
    box-shadow: var(--shadow-sm);
    transition: all 0.3s;
}

.resource-card h4 {
    font-size: 1.2rem;
    margin-bottom: 10px;
    color: var(--primary-color);
}

/* Responsive Design */
@media screen and (max-width: 768px) {
    .sections-grid {
        grid-template-columns: 1fr;
    }
    
    .section-card h3 {
        font-size: 1.2rem;
    }
    
    .section-card a {
        font-size: 0.9rem;
        padding: 10px 25px;
    }
}

@media screen and (max-width: 480px) {
    .building-sections h2 {
        font-size: 2rem;
    }
    
    .sections-grid {
        gap: 20px;
    }
    
    .section-card h3 {
        font-size: 1.1rem;
    }
}

/* Animations */
@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-50px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}"

# Continued - JavaScript Implementation

/**
 * Navigation Smooth Scroll
 */
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        
        if (targetElement) {
            targetElement.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

/**
 * Mobile Menu Toggle
 */
const menuToggle = document.querySelector('.menu-toggle');
const navList = document.querySelector('.nav-list');

if (menuToggle && navList) {
    menuToggle.addEventListener('click', function() {
        this.classList.toggle('active');
        navList.classList.toggle('active');
        
        // Add accessibility focus
        const firstLink = navList.querySelector('a');
        if (firstLink) {
            firstLink.focus();
        }
    });
    
    // Close menu when clicking outside
    document.addEventListener('click', function(e) {
        if (!navList.contains(e.target) && !menuToggle.contains(e.target)) {
            menuToggle.classList.remove('active');
            navList.classList.remove('active');
        }
    });
}

/**
 * Hotspot Interaction
 */
document.querySelectorAll('.hotspot').forEach(hotspot => {
    hotspot.addEventListener('click', function() {
        this.classList.toggle('active');
        
        const targetId = this.dataset.target;
        if (targetId) {
            const section = document.querySelector(`#${targetId}`);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }
    });
});

/**
 * Filter Tab Functionality
 */
document.querySelectorAll('.filter-tab').forEach(tab => {
    tab.addEventListener('click', function() {
        // Remove active class from all tabs
        document.querySelectorAll('.filter-tab').forEach(t => 
            t.classList.remove('active')
        );
        
        // Add active class to clicked tab
        this.classList.add('active');
        
        // Get filter value
        const filter = this.dataset.filter;
        
        // Apply filter to articles
        document.querySelectorAll('.article-card').forEach(article => {
            if (filter === 'all' || article.dataset.category === filter) {
                article.style.display = 'block';
            } else {
                article.style.display = 'none';
            }
        });
    });
});

/**
 * Search Functionality
 */
const searchInput = document.getElementById('search');
if (searchInput) {
    searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        
        document.querySelectorAll('.article-card').forEach(article => {
            const title = article.querySelector('h3').textContent.toLowerCase();
            const text = article.textContent.toLowerCase();
            
            if (title.includes(searchTerm) || text.includes(searchTerm)) {
                article.style.display = 'block';
            } else {
                article.style.display = 'none';
            }
        });
    });
}

/**
 * Sticky Navigation
 */
let lastScrollTop = 0;
const navbar = document.querySelector('.navbar');
const headerImage = document.querySelector('header');

if (navbar && headerImage) {
    window.addEventListener('scroll', function() {
        let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        // Sticky nav when scrolling down
        if (scrollTop > lastScrollTop) {
            navbar.classList.add('sticky');
            headerImage.style.marginTop = `${-scrollTop}px`;
        } else {
            navbar.classList.remove('sticky');
            headerImage.style.marginTop = '0';
        }
        
        lastScrollTip = scrollTop;
    });
}

/**
 * Smooth Scrolling for All Links
 */
const smoothLinks = document.querySelectorAll('a.smooth-scroll');
smoothLinks.forEach(link => {
    link.addEventListener('click', function(e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        
        if (targetElement) {
            targetElement.scrollIntoView({
                behavior: 'smooth'
            });
        }
    });
});

/**
 * Form Validation
 */
document.querySelectorAll('form').forEach(form => {
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        let isValid = true;
        
        // Required fields validation
        const requiredFields = form.querySelectorAll('[required]');
        requiredFields.forEach(field => {
            if (!field.value.trim()) {
                isValid = false;
                field.classList.add('invalid');
            }
        });
        
        // Email validation
        const emailFields = form.querySelectorAll('email');
        emailFields.forEach(email => {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email.value)) {
                isValid = false;
                email.classList.add('invalid');
            }
        });
        
        // Password strength
        const passwordFields = form.querySelectorAll('password');
        passwordFields.forEach(password => {
            if (password.value.length < 8) {
                isValid = false;
                password.classList.add('invalid');
            }
        });
        
        if (isValid) {
            alert('Form submitted successfully!');
            form.reset();
        } else {
            alert('Please fill out all required fields correctly.');
        }
    });
});

/**
 * Responsive Table Toggle
 */
document.querySelectorAll('.table-toggle').forEach(button => {
    button.addEventListener('click', function() {
        const table = this.closest('section').querySelector('table');
        if (table) {
            table.classList.toggle('mobile-responsive');
            
            // Store preference in localStorage
            const isResponsive = table.classList.contains('mobile-responsive');
            localStorage.setItem('tableLayout', isResponsive ? 'responsive' : 'stacked');
        }
    });
});

/**
 * Lazy Loading Images with Intersection Observer
 */
const images = document.querySelectorAll('img[loading="lazy"]');
    
if (images.length > 0) {
    const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                // Image is visible - load it
                entry.target.src = entry.target.datasetSrc;
                entry.target.classList.remove('lazy');
                observer.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0,
        rootMargin: '0px'
    });
    
    images.forEach(img => {
        if (img.complete) {
            // Image already loaded - remove lazy attribute
            img.classList.remove('lazy');
        } else {
            observer.observe(img);
        }
    });
}

/**
 * Auto-complete Search Suggestions
 */
class AutoComplete {
    constructor(input, suggestionsContainer, minLength = 2, delay = 300) {
        this.input = input;
        this.suggestionsContainer = suggestionsContainer;
        this.minLength = minLength;
        this.delay = delay;
        this.timeoutId = null;
        this.init();
    }
    
    init() {
        this.input.addEventListener('input', this.handleInput.bind(this));
        
        // Keyboard navigation
        this.suggestionsContainer.addEventListener('click', (e) => {
            if (e.target.classList.contains('suggestion')) {
                this.selectSuggestion(e.target.textContent);
            }
        });
        
        // Enter key navigation
        this.input.addEventListener('keydown', (e) => {
            const suggestions = this.suggestionsContainer.querySelectorAll('.suggestion');
            
            if (e.key === 'Enter' && suggestions.length > 0) {
                e.preventDefault();
                this.selectSuggestion(suggestions[0].textContent);
            }
            
            // Arrow key navigation
            if ([ 'ArrowUp', 'ArrowDown', 'Escape' ].includes(e.key)) {
                e.preventDefault();
                this.navigateSuggestions(e.key);
            }
        });
    }
    
    handleInput(event) {
        const term = event.target.value;
        
        if (term.length < this.minLength) {
            this.clearSuggestions();
            return;
        }
        
        // Clear previous timeout
        if (this.timeoutId !== null) {
            clearTimeout(this.timeoutId);
        }
        
        // Set new timeout
        this.timeoutId = setTimeout(() => {
            this.fetchSuggestions(term);
        }, this.delay);
    }
    
    fetchSuggestions(term) {
        // In a real application, you would fetch suggestions from your API/backend
        const mockSuggestions = [            'Bathroom Remodeling',            'Kitchen Design',            'Home Construction Basics',            'Floor Installation',            'House Blueprint',            'DIY Home Projects',            'Building Codes Reference',            'Renovation Tips'        ];
        
        // Filter suggestions
        const filtered = mockSuggestions.filter(item => 
            item.toLowerCase().includes(term.toLowerCase())
        );
        
        this.displaySuggestions(filtered);
    }
    
    displaySuggestions(suggestions) {
        this.suggestionsContainer.innerHTML = '';
        
        if (suggestions.length > 0) {
            suggestions.forEach(suggestion => {
                const div = document.createElement('div');
                div.className = 'suggestion';
                div.textContent = suggestion;
                this.suggestionsContainer.appendChild(div);
            });
            this.suggestionsContainer.style.display = 'block';
        } else {
            this.suggestionsContainer.style.display = 'none';
        }
    }
    
    clearSuggestions() {
        this.suggestionsContainer.innerHTML = '';
        this.suggestionsContainer.style.display = 'none';
    }
    
    selectSuggestion(suggestion) {
        this.input.value = suggestion;
        this.clearSuggestions();
        this.input.focus();
        
        // Trigger search or navigation
        this.handleSubmit(suggestion);
    }
    
    handleSubmit(term) {
        // In a real application, navigate to search results page
        console.log('Searching for:', term);
        alert(`Searching for: ${term}`);
    }
    
    navigateSuggestions(key) {
        const suggestions = this.suggestionsContainer.querySelectorAll('.suggestion');
        
        if (suggestions.length === 0) return;
        
        // Store first index
        let startIndex = 0;
        
        // Find first focused suggestion
        for (let i = 0; i < suggestions.length; i++) {
            if (suggestions[i].classList.contains('focused')) {
                startIndex = i;
                break;
            }
        }
        
        // Arrow Down
        if (key === 'ArrowDown') {
            const nextIndex = (startIndex + 1) % suggestions.length;
            this.focusSuggestion(nextIndex);
        }
        
        // Arrow Up
        if (key === 'ArrowUp') {
            const prevIndex = (startIndex - 1 + suggestions.length) % suggestions.length;
            this.focusSuggestion(prevIndex);
        }
        
        // Escape
        if (key === 'Escape') {
            this.clearSuggestions();
        }
    }
    
    focusSuggestion(index) {
        const suggestions = this.suggestionsContainer.querySelectorAll('.suggestion');
        suggestions.forEach(suggestion => {
            suggestion.classList.remove('focused');
        });
        suggestions[index].classList.add('focused');
        suggestions[index].scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
}

// Initialize auto-complete
const searchInput = document.getElementById('search');
const suggestionsContainer = document.getElementById('suggestions');
const autoComplete = new AutoComplete(searchInput, suggestionsContainer);

// Style suggestions container
suggestionsContainer.style.position = 'absolute';
suggestionsContainer.style.background = '#fff';
suggestionsContainer.style.border = '1px solid #ccc';
suggestionsContainer.style.maxHeight = '200px';
suggestionsContainer.style.overflowY = 'auto';
suggestionsContainer.style.width = `${searchInput.offsetWidth}px`;
suggestionsContainer.style.zIndex = '1000';
suggestionsContainer.style.boxShadow = '0 4px 6px rgba(0,0,0,0.1)';
suggestionsContainer.style.borderRadius = '5px';
suggestionsContainer.style.marginTop = '5px';

// Style individual suggestions
const style = document.createElement('style');
style.innerHTML = `
    .suggestion {
        padding: 10px 15px;
        cursor: pointer;
        border: none;
        background: #fff;
        width: 100%;
        text-align: left;
        word-break: break-word;
        white-space: normal;
    }
    
    .suggestion:hover, .suggestion.focused {
        background-color: #f0f0f0;
    }
`;
document.head.appendChild(style);
